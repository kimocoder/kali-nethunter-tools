--- a/ifconfig.c
+++ b/ifconfig.c
@@ -54,7 +54,7 @@
 
 #if HAVE_AFINET6
 
-#ifndef _LINUX_IN6_H
+#if !defined(_LINUX_IN6_H) && !defined(__ANDROID__)
 /*
  *    This is in linux/include/net/ipv6.h.
  */
--- a/hostname.c
+++ b/hostname.c
@@ -40,6 +40,10 @@
 #include <netdb.h>
 #include <netinet/in.h>
 #include <arpa/inet.h>
+#ifdef __ANDROID__
+extern int sethostname(const char *, size_t);
+extern int setdomainname(const char *, size_t);
+#endif
 
 #if HAVE_AFDECnet
 #include <netdnet/dn.h>
